# Logfile created on Thu Aug 27 14:51:42 -0430 2015  [4;36;1mSQL (1.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::IncomingInvoicesController#new (for 127.0.0.1 at 2015-08-27 14:52:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"backend/financial_management/incoming_invoices"}
*** GLOBALS: #<struct #<Class:0xb4dfec38> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4e0239c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (55.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (11.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:03.437688', "perishable_token" = E'pcDBE2A8Piko74LEq7xY', "last_request_at" = '2015-08-27 14:52:03.435926' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (97.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mAppConfig Load (27.0ms)[0m   [0;1mSELECT * FROM "app_configs" WHERE ("app_configs"."name" = E'CURRENCY') LIMIT 1[0m
  [4;35;1mCurrencyType Load (6.9ms)[0m   [0mSELECT * FROM "currency_types" WHERE ("currency_types"."iso4217" = E'VEF') LIMIT 1[0m
  [4;36;1mAppConfig Load (0.6ms)[0m   [0;1mSELECT * FROM "app_configs" WHERE ("app_configs"."name" = E'TAX') LIMIT 1[0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/incoming_invoices/new
  [4;35;1mAccountPayable::IncomingInvoiceDocumentType Load (16.2ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_document_types" [0m
  [4;36;1mCurrencyType Load (0.8ms)[0m   [0;1mSELECT * FROM "currency_types" [0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" [0m
  [4;36;1mContactCategory Load (1.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 3 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (1.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 22) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 5 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 60) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 4 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 39) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 6 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 75) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 2 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 21) [0m
Rendered backend/financial_management/incoming_invoices/_form_header (202.1ms)
  [4;36;1mMaterial::RawMaterial Load (33.8ms)[0m   [0;1mSELECT * FROM "material_raw_materials" [0m
  [4;35;1mMaterial::MeasureUnit Load (16.1ms)[0m   [0mSELECT * FROM "material_measure_units" [0m
  [4;36;1mTax Load (9.5ms)[0m   [0;1mSELECT * FROM "taxes" [0m
Rendered backend/financial_management/incoming_invoices/_items (1.2ms)
Rendered backend/financial_management/incoming_invoices/_totals (9.5ms)
Rendered backend/financial_management/incoming_invoices/_form_items (406.0ms)
Rendered backend/financial_management/incoming_invoices/_form (619.1ms)
Rendered shared/backend/financial_management/_menunav (7.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mUserGroup Load (1.4ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mState Load (1.8ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (3.0ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 1329ms (View: 741, DB: 299) | 200 OK [http://127.0.0.1/backend/financial_management/incoming_invoices/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:52:05) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::Cpanel::HomeController#index (for 127.0.0.1 at 2015-08-27 14:52:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/cpanel/home"}
*** GLOBALS: #<struct #<Class:0xb492b198> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb492bd78> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:09.385522', "perishable_token" = E'aVb4uh5GGex2Nez859IL', "last_request_at" = '2015-08-27 14:52:09.383716' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (35.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccounting::AccountantAccount Load (65.3ms)[0m   [0;1mSELECT * FROM "accounting_accountant_accounts" WHERE ("accounting_accountant_accounts"."parent_account_id" = 0) [0m
  [4;35;1mConfigPanel::ModuleCategory Load (15.2ms)[0m   [0mSELECT * FROM "config_panel_module_categories" WHERE ("config_panel_module_categories"."tag_name" = E'cpanel') LIMIT 1[0m
  [4;36;1mConfigPanel::Module Load (2.4ms)[0m   [0;1mSELECT * FROM "config_panel_modules" WHERE ("config_panel_modules"."active" = 't' AND "config_panel_modules"."config_panel_module_category_id" = 3) ORDER BY orden ASC[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "config_panel_module_categories" WHERE ("config_panel_module_categories"."tag_name" = E'cpanel') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "config_panel_modules" WHERE ("config_panel_modules"."active" = 't' AND "config_panel_modules"."config_panel_module_category_id" = 3) ORDER BY orden ASC[0m
  [4;35;1mUserGroup Load (1.2ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mConfigPanel::Submodule Load (1.6ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 1 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.1ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 2 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (1.1ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 3 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.0ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 9 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (1.2ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 4 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.1ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 6 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (0.8ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 7 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (0.8ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 5 AND ("config_panel_submodules"."active" = 't')) [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/cpanel/home/index
Rendered shared/backend/cpanel/_menunav (23.2ms)
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mState Load (1.2ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (2.3ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 794ms (View: 259, DB: 220) | 200 OK [http://127.0.0.1/backend/cpanel/home]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:52:11) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::PurchaseOrdersController#index (for 127.0.0.1 at 2015-08-27 14:52:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/material_management/purchase_orders"}
*** GLOBALS: #<struct #<Class:0xb4d52424> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4d580a4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:23.951078', "perishable_token" = E'GBKTI27a6k8Idmm6O1e', "last_request_at" = '2015-08-27 14:52:23.949894' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (25.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mMaterial::PurchaseOrder Load (25.7ms)[0m   [0;1mSELECT * FROM "material_purchase_orders" [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/material_management/purchase_orders/index
  [4;35;1mSupplier Load (1.3ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mContactCategory Load (1.2ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mContactCategory Load (0.8ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mMaterial::PurchaseOrderPosition Load (1.6ms)[0m   [0mSELECT * FROM "material_purchase_order_positions" WHERE ("material_purchase_order_positions".material_purchase_order_id = 1) [0m
Rendered shared/backend/material_management/_menunav (7.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUserGroup Load (0.9ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mState Load (1.7ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (2.4ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 405ms (View: 271, DB: 70) | 200 OK [http://127.0.0.1/backend/material_management/purchase_orders]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::PurchaseOrdersController#index (for 127.0.0.1 at 2015-08-27 14:52:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/material_management/purchase_orders"}
*** GLOBALS: #<struct #<Class:0xb4a53f20> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a54718> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:24.407870', "perishable_token" = E'vjwoh8N7NPVNVCJCSU5N', "last_request_at" = '2015-08-27 14:52:24.406477' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (14.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMaterial::PurchaseOrder Load (0.9ms)[0m   [0mSELECT * FROM "material_purchase_orders" [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/material_management/purchase_orders/index
  [4;36;1mSupplier Load (1.0ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (1.1ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (1.3ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mMaterial::PurchaseOrderPosition Load (1.2ms)[0m   [0;1mSELECT * FROM "material_purchase_order_positions" WHERE ("material_purchase_order_positions".material_purchase_order_id = 1) [0m
Rendered shared/backend/material_management/_menunav (6.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mUserGroup Load (1.3ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mState Load (2.1ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (2.1ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 317ms (View: 233, DB: 31) | 200 OK [http://127.0.0.1/backend/material_management/purchase_orders]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:52:25) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::IncomingInvoicesController#set_incoming_invoice_document (for 127.0.0.1 at 2015-08-27 14:52:29) [POST]
  Parameters: {"authenticity_token"=>"WQdbUzo4zUqg1c9Ct2FBO87DJ5wtqKRVqugIGkr97BU=", "account_payable_incoming_invoice"=>{"account_payable_incoming_invoice_document_type_id"=>"2"}, "action"=>"set_incoming_invoice_document", "controller"=>"backend/financial_management/incoming_invoices"}
*** GLOBALS: #<struct #<Class:0xb4a57968> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a5814c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:29.859741', "perishable_token" = E'5ZdV5Q5TPcF6NwIjUzb', "last_request_at" = '2015-08-27 14:52:29.858765' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (40.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoiceDocumentType Load (1.1ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoice_document_types" WHERE ("account_payable_incoming_invoice_document_types"."id" = E'2') LIMIT 1[0m
Rendering backend/financial_management/incoming_invoices/set_incoming_invoice_document
Completed in 107ms (View: 5, DB: 46) | 200 OK [http://127.0.0.1/backend/financial_management/incoming_invoices/set_incoming_invoice_document]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::IncomingInvoicesController#confirm_purchase_order (for 127.0.0.1 at 2015-08-27 14:52:32) [POST]
  Parameters: {"purchase_order_id"=>"000001", "action"=>"confirm_purchase_order", "controller"=>"backend/financial_management/incoming_invoices"}
*** GLOBALS: #<struct #<Class:0xb4df311c> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4df3bf8> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:32.154956', "perishable_token" = E'AnFmDvRl46Qqwbxzky', "last_request_at" = '2015-08-27 14:52:32.153724' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (22.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMaterial::PurchaseOrder Load (14.0ms)[0m   [0mSELECT * FROM "material_purchase_orders" WHERE ("material_purchase_orders"."id" = E'000001') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (24.0ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoices" WHERE ("account_payable_incoming_invoices".material_purchase_order_id = 1) LIMIT 1[0m
Rendering backend/financial_management/incoming_invoices/confirm_purchase_order
Rendered shared/_modal_errors (1.9ms)
Completed in 175ms (View: 35, DB: 67) | 200 OK [http://127.0.0.1/backend/financial_management/incoming_invoices/confirm_purchase_order]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::PurchaseOrdersController#new (for 127.0.0.1 at 2015-08-27 14:52:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"backend/material_management/purchase_orders"}
*** GLOBALS: #<struct #<Class:0xb49ef868> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb49f004c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:42.935367', "perishable_token" = E'zGZx3Jsvl9l158Bnop6T', "last_request_at" = '2015-08-27 14:52:42.934361' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (42.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAppConfig Load (1.0ms)[0m   [0mSELECT * FROM "app_configs" WHERE ("app_configs"."name" = E'CURRENCY') LIMIT 1[0m
  [4;36;1mCurrencyType Load (0.9ms)[0m   [0;1mSELECT * FROM "currency_types" WHERE ("currency_types"."iso4217" = E'VEF') LIMIT 1[0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/material_management/purchase_orders/new
  [4;35;1mSupplier Load (3.0ms)[0m   [0mSELECT * FROM "suppliers" [0m
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 17 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 24) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 16 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 24) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 20 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (11.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 25) [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 19 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 25) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 28 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 29) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 27 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 29) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 21 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 26) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 24 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 27) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 23 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 27) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 26 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 28) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 25 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 28) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 30 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 30) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 29 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 30) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 31 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 23) [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 15 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 23) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 33 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 31) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 32 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 31) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 35 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 32) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 34 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 32) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 37 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 33) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 36 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 33) [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 39 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 35) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 38 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 35) [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 41 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 36) [0m
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 40 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 36) [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 45 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 38) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 44 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 38) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 49 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 41) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 48 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 41) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 51 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 42) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 50 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 42) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 53 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 43) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 52 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 43) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 55 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 44) [0m
  [4;36;1mContactCategory Load (1.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 54 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 44) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 57 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 45) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 56 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 45) [0m
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 59 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 46) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 58 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 46) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 61 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 47) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 60 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 47) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 63 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 48) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 62 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 48) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 65 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 49) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 64 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 49) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 67 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 50) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 66 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 50) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 69 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 51) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 68 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 51) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 73 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 54) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 72 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 54) [0m
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 77 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 56) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 76 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 56) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 79 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 57) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 78 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 57) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 85 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 61) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 84 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 61) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 86 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 65) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 89 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 77) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 43 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 37) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 42 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 37) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 47 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 40) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 46 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 40) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 71 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 53) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 70 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 53) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 74 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 55) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 81 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 58) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 80 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 58) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 83 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 59) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 82 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 59) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 5) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 3 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 7) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 2 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 6) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 4 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 8) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 5 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 9) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 6 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 10) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 7 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 11) [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 8 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 12) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 9 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 13) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 10 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 15) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 12 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 18) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 13 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 19) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 14 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 20) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 87 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 75) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 88 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 76) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 75 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 55) [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 91 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 79) [0m
  [4;36;1mCurrencyType Load (0.8ms)[0m   [0;1mSELECT * FROM "currency_types" [0m
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 3 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 22) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 5 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 60) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 4 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 39) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 6 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 75) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 2 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 21) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
Rendered backend/material_management/purchase_orders/_form_header (495.4ms)
  [4;36;1mMaterial::RawMaterial Load (10.2ms)[0m   [0;1mSELECT * FROM "material_raw_materials" [0m
  [4;35;1mMaterial::MeasureUnit Load (0.9ms)[0m   [0mSELECT * FROM "material_measure_units" [0m
Rendered backend/material_management/purchase_orders/_items (2.2ms)
Rendered backend/material_management/purchase_orders/_form_items (319.2ms)
Rendered backend/material_management/purchase_orders/_form (830.9ms)
Rendered shared/backend/material_management/_menunav (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUserGroup Load (1.1ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mState Load (1.6ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (4.1ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 1277ms (View: 893, DB: 199) | 200 OK [http://127.0.0.1/backend/material_management/purchase_orders/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:52:44) [GET]

ActionController::RoutingError (No route matches "/backend/material_management/purchase_orders/images/clients/LiftVen/logos/favicon.ico" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:52:44) [GET]

ActionController::RoutingError (No route matches "/backend/material_management/purchase_orders/images/clients/LiftVen/logos/favicon.ico" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:52:45) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::ContactsController#autocomplete_by_supplier_name (for 127.0.0.1 at 2015-08-27 14:52:49) [GET]
  Parameters: {"term"=>"gabrie", "action"=>"autocomplete_by_supplier_name", "controller"=>"backend/contacts"}
*** GLOBALS: #<struct #<Class:0xb4a58160> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a58a5c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:49.982394', "perishable_token" = E'CfRokkiwqoLyC9CDbdm', "last_request_at" = '2015-08-27 14:52:49.981203' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (16.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContact Load IDs For Limited Eager Loading (54.3ms)[0m   [0mSELECT DISTINCT "contacts".id FROM "contacts" LEFT OUTER JOIN "contact_categories" ON contact_categories.contact_id = contacts.id WHERE (lower(fullname) LIKE lower(E'%gabrie%') AND contacts.active = 't' AND contact_categories.category_type = E'Supplier') LIMIT 10[0m
  [4;36;1mContact Load Including Associations (1.9ms)[0m   [0;1mSELECT "contacts"."id" AS t0_r0, "contacts"."fullname" AS t0_r1, "contacts"."phone" AS t0_r2, "contacts"."identification_document_type_id" AS t0_r3, "contacts"."identification_document" AS t0_r4, "contacts"."email" AS t0_r5, "contacts"."address" AS t0_r6, "contacts"."cellphone" AS t0_r7, "contacts"."website" AS t0_r8, "contacts"."active" AS t0_r9, "contacts"."islr_retained" AS t0_r10, "contacts"."retention_rate_islr" AS t0_r11, "contacts"."retention_rate_islr_2" AS t0_r12, "contacts"."salulation_id" AS t0_r13, "contact_categories"."id" AS t1_r0, "contact_categories"."contact_id" AS t1_r1, "contact_categories"."category_id" AS t1_r2, "contact_categories"."category_type" AS t1_r3, "contact_categories"."contact_type_id" AS t1_r4 FROM "contacts" LEFT OUTER JOIN "contact_categories" ON contact_categories.contact_id = contacts.id WHERE (lower(fullname) LIKE lower(E'%gabrie%') AND contacts.active = 't' AND contact_categories.category_type = E'Supplier') AND "contacts".id IN (1) [0m
  [4;35;1mContactCategory Load (0.8ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".contact_id = 1 AND ("contact_categories"."category_type" = E'Supplier')) LIMIT 1[0m
  [4;36;1mSupplier Load (1.5ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".contact_id = 1 AND ("contact_categories"."category_type" = E'Supplier')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mAccountPayable::IncomingInvoice Load (4.2ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoices" WHERE ("account_payable_incoming_invoices".tenderer_id = 18 AND (tenderer_type = E'Supplier' AND balance > 0)) [0m
Completed in 327ms (View: 28, DB: 86) | 200 OK [http://127.0.0.1/backend/contacts/autocomplete_by_supplier_name?term=gabrie]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::PurchaseOrdersController#get_quotation_requisition_supplier (for 127.0.0.1 at 2015-08-27 14:52:50) [POST]
  Parameters: {"material_purchase_order"=>{"supplier_id"=>"18"}, "authenticity_token"=>"WQdbUzo4zUqg1c9Ct2FBO87DJ5wtqKRVqugIGkr97BU=", "action"=>"get_quotation_requisition_supplier", "controller"=>"backend/material_management/purchase_orders"}
*** GLOBALS: #<struct #<Class:0xb4b19dc4> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4b1cbc8> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:50.898085', "perishable_token" = E'smhMxxeZkH3rLLoEAgKv', "last_request_at" = '2015-08-27 14:52:50.896270' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (57.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSupplier Load (1.4ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = E'18') LIMIT 1[0m
  [4;35;1mMaterial::QuotationRequisitionPosition Load Including Associations (22.1ms)[0m   [0mSELECT "material_quotation_requisition_positions"."id" AS t0_r0, "material_quotation_requisition_positions"."material_quotation_requisition_id" AS t0_r1, "material_quotation_requisition_positions"."material_purchase_requisition_position_id" AS t0_r2, "material_quotation_requisition_positions"."material_payment_method_type_id" AS t0_r3, "material_quotation_requisition_positions"."material_raw_material_id" AS t0_r4, "material_quotation_requisition_positions"."material_order_measure_unit_id" AS t0_r5, "material_quotation_requisition_positions"."material_quotation_requisition_quality_type_id" AS t0_r6, "material_quotation_requisition_positions"."supplier_1_id" AS t0_r7, "material_quotation_requisition_positions"."sub_total_supplier_1" AS t0_r8, "material_quotation_requisition_positions"."tax_supplier_1" AS t0_r9, "material_quotation_requisition_positions"."total_supplier_1" AS t0_r10, "material_quotation_requisition_positions"."supplier_2_id" AS t0_r11, "material_quotation_requisition_positions"."sub_total_supplier_2" AS t0_r12, "material_quotation_requisition_positions"."tax_supplier_2" AS t0_r13, "material_quotation_requisition_positions"."total_supplier_2" AS t0_r14, "material_quotation_requisition_positions"."supplier_3_id" AS t0_r15, "material_quotation_requisition_positions"."sub_total_supplier_3" AS t0_r16, "material_quotation_requisition_positions"."tax_supplier_3" AS t0_r17, "material_quotation_requisition_positions"."total_supplier_3" AS t0_r18, "material_quotation_requisition_positions"."quantity" AS t0_r19, "material_quotation_requisition_positions"."selected_supplier_id" AS t0_r20, "material_quotation_requisition_positions"."note" AS t0_r21, "material_quotation_requisition_positions"."created_at" AS t0_r22, "material_quotation_requisition_positions"."updated_at" AS t0_r23, "material_quotation_requisition_positions"."material_quotation_requisition_position_status_type_id" AS t0_r24, "material_quotation_requisition_position_status_types"."id" AS t1_r0, "material_quotation_requisition_position_status_types"."name" AS t1_r1, "material_quotation_requisition_position_status_types"."tag_name" AS t1_r2, "material_quotation_requisition_position_status_types"."default" AS t1_r3 FROM "material_quotation_requisition_positions" LEFT OUTER JOIN "material_quotation_requisition_position_status_types" ON "material_quotation_requisition_position_status_types".id = "material_quotation_requisition_positions".material_quotation_requisition_position_status_type_id WHERE ("material_quotation_requisition_positions".selected_supplier_id = 18 AND (material_quotation_requisition_position_status_types.tag_name = E'lic')) [0m
Rendering backend/material_management/purchase_orders/get_quotation_requisition_supplier
Rendered backend/material_management/purchase_orders/_items (0.1ms)
Completed in 214ms (View: 17, DB: 87) | 200 OK [http://127.0.0.1/backend/material_management/purchase_orders/get_quotation_requisition_supplier]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::RawMaterialsController#autocomplete_by_name (for 127.0.0.1 at 2015-08-27 14:52:53) [GET]
  Parameters: {"term"=>"carpe", "action"=>"autocomplete_by_name", "controller"=>"backend/material_management/raw_materials"}
*** GLOBALS: #<struct #<Class:0xb494dec8> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb494eea4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (26.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:52:54.112768', "perishable_token" = E'DsQ2DJUD9f3wqq3o2W', "last_request_at" = '2015-08-27 14:52:54.111691' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (20.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mMaterial::RawMaterial Load (4.5ms)[0m   [0;1mSELECT * FROM "material_raw_materials" WHERE (lower(name) LIKE lower(E'%carpe%')) [0m
Completed in 265ms (View: 17, DB: 55) | 200 OK [http://127.0.0.1/backend/material_management/raw_materials/autocomplete_by_name?term=carpe]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::PurchaseOrdersController#add (for 127.0.0.1 at 2015-08-27 14:53:05) [POST]
  Parameters: {"material_purchase_order_position"=>{"sub_total"=>"1200", "delivery_date"=>"2015-08-28", "material_order_measure_unit_id"=>"1", "material_raw_material_id"=>"71", "total"=>"14400", "quantity"=>"12"}, "authenticity_token"=>"WQdbUzo4zUqg1c9Ct2FBO87DJ5wtqKRVqugIGkr97BU=", "sub_total_currency"=>"1200", "material_name"=>"Carpeta marrón con gancho tipo oficio ", "action"=>"add", "controller"=>"backend/material_management/purchase_orders"}
*** GLOBALS: #<struct #<Class:0xb4a36a9c> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a374ec> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 14:53:05.124915', "perishable_token" = E'IiQ2Du1XaQULjawsCUp', "last_request_at" = '2015-08-27 14:53:05.123643' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (29.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMaterial::RawMaterial Load (15.3ms)[0m   [0mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 71) [0m
  [4;36;1mMaterial::MeasureUnit Load (1.1ms)[0m   [0;1mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
Rendering backend/material_management/purchase_orders/add
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 71) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
Rendered backend/material_management/purchase_orders/_items (4.6ms)
Completed in 285ms (View: 24, DB: 52) | 200 OK [http://127.0.0.1/backend/material_management/purchase_orders/add]
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::RawMaterialsController#autocomplete_by_name (for 127.0.0.1 at 2015-08-27 14:53:07) [GET]
  Parameters: {"term"=>"car", "action"=>"autocomplete_by_name", "controller"=>"backend/material_management/raw_materials"}
*** GLOBALS: #<struct #<Class:0xb4a6d790> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a6ec58> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 14:53:07.709566', "perishable_token" = E'majSbe8zl4dDXIyRFAiU', "last_request_at" = '2015-08-27 14:53:07.708300' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (23.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMaterial::RawMaterial Load (4.7ms)[0m   [0mSELECT * FROM "material_raw_materials" WHERE (lower(name) LIKE lower(E'%car%')) [0m
Completed in 220ms (View: 1, DB: 35) | 200 OK [http://127.0.0.1/backend/material_management/raw_materials/autocomplete_by_name?term=car]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::PurchaseOrdersController#add (for 127.0.0.1 at 2015-08-27 14:53:21) [POST]
  Parameters: {"material_purchase_order_position"=>{"sub_total"=>"2000", "delivery_date"=>"2015-08-31", "material_order_measure_unit_id"=>"1", "material_raw_material_id"=>"74", "total"=>"2000", "quantity"=>"1"}, "authenticity_token"=>"WQdbUzo4zUqg1c9Ct2FBO87DJ5wtqKRVqugIGkr97BU=", "sub_total_currency"=>"2000", "material_name"=>"Carpeta manilla tipo carta ", "action"=>"add", "controller"=>"backend/material_management/purchase_orders"}
*** GLOBALS: #<struct #<Class:0xb4b2dbd0> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4b2eff8> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:53:21.765490', "perishable_token" = E'FWo2s1XVCSbA7yRqVK', "last_request_at" = '2015-08-27 14:53:21.764429' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (35.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mMaterial::RawMaterial Load (2.9ms)[0m   [0;1mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 74) [0m
  [4;35;1mMaterial::MeasureUnit Load (0.7ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
Rendering backend/material_management/purchase_orders/add
  [4;36;1mMaterial::RawMaterial Load (0.9ms)[0m   [0;1mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 71) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 74) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
Rendered backend/material_management/purchase_orders/_items (6.0ms)
Completed in 260ms (View: 8, DB: 46) | 200 OK [http://127.0.0.1/backend/material_management/purchase_orders/add]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::PurchaseOrdersController#create (for 127.0.0.1 at 2015-08-27 14:53:24) [POST]
  Parameters: {"material_purchase_order_position"=>{"sub_total"=>"", "delivery_date"=>"", "material_order_measure_unit_id"=>"", "material_raw_material_id"=>"", "total"=>"", "quantity"=>""}, "authenticity_token"=>"WQdbUzo4zUqg1c9Ct2FBO87DJ5wtqKRVqugIGkr97BU=", "material_purchase_order"=>{"supplier_name"=>"GABRIEL JESUS PLAZA LAMUÑO", "currency_type_id"=>"1", "supplier_id"=>"18"}, "sub_total_currency"=>"", "material_name"=>"", "action"=>"create", "controller"=>"backend/material_management/purchase_orders"}
*** GLOBALS: #<struct #<Class:0xb4a7682c> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a77c04> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:53:24.101145', "perishable_token" = E'i9nKsJ3AahH7fNoiWmMm', "last_request_at" = '2015-08-27 14:53:24.100073' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (11.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mAppConfig Load (0.7ms)[0m   [0;1mSELECT * FROM "app_configs" WHERE ("app_configs"."name" = E'CURRENCY') LIMIT 1[0m
  [4;35;1mCurrencyType Load (0.7ms)[0m   [0mSELECT * FROM "currency_types" WHERE ("currency_types"."iso4217" = E'VEF') LIMIT 1[0m
  [4;36;1mSupplier Load (1.5ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (54.0ms)[0m   [0;1mINSERT INTO "material_purchase_orders" ("updated_at", "currency_type_id", "delivery_date", "create_by_id", "posting_date", "supplier_id", "created_at") VALUES('2015-08-27 14:53:24.190136', 1, NULL, 1, '2015-08-27', 18, '2015-08-27 14:53:24.190136') RETURNING "id"[0m
  [4;35;1mSQL (23.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMaterial::RawMaterial Load (3.0ms)[0m   [0mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 71) [0m
  [4;36;1mMaterial::MeasureUnit Load (0.9ms)[0m   [0;1mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;35;1mSQL (18.4ms)[0m   [0mINSERT INTO "material_purchase_order_positions" ("updated_at", "total_amount", "material_order_measure_unit_id", "delivery_date", "sub_total", "taxable", "material_raw_material_id", "created_at", "total", "tax_amount", "quantity", "tax_id", "material_purchase_order_id") VALUES('2015-08-27 14:53:24.460798', NULL, 1, '2015-08-28', 1200.0, NULL, 71, '2015-08-27 14:53:24.460798', 14400.0, NULL, 12.0, 3, 2) RETURNING "id"[0m
  [4;36;1mSQL (16.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mMaterial::RawMaterial Load (1.3ms)[0m   [0;1mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 74) [0m
  [4;35;1mMaterial::MeasureUnit Load (0.4ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO "material_purchase_order_positions" ("updated_at", "total_amount", "material_order_measure_unit_id", "delivery_date", "sub_total", "taxable", "material_raw_material_id", "created_at", "total", "tax_amount", "quantity", "tax_id", "material_purchase_order_id") VALUES('2015-08-27 14:53:24.510959', NULL, 1, '2015-08-31', 2000.0, NULL, 74, '2015-08-27 14:53:24.510959', 2000.0, NULL, 1.0, 3, 2) RETURNING "id"[0m
  [4;35;1mSQL (11.3ms)[0m   [0mCOMMIT[0m
Rendering backend/material_management/purchase_orders/create
Completed in 471ms (View: 16, DB: 151) | 200 OK [http://127.0.0.1/backend/material_management/purchase_orders]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::MaterialManagement::PurchaseOrdersController#show (for 127.0.0.1 at 2015-08-27 14:53:24) [GET]
  Parameters: {"id"=>"2", "action"=>"show", "controller"=>"backend/material_management/purchase_orders"}
*** GLOBALS: #<struct #<Class:0xb4a57c38> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a595ec> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:53:24.729000', "perishable_token" = E'NyDoFdYC8G9SKj938ZA', "last_request_at" = '2015-08-27 14:53:24.727244' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mMaterial::PurchaseOrder Load (1.0ms)[0m   [0;1mSELECT * FROM "material_purchase_orders" WHERE ("material_purchase_orders"."id" = 2) [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/material_management/purchase_orders/show
  [4;35;1mSupplier Load (2.6ms)[0m   [0mSELECT * FROM "suppliers" [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 17 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 24) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 16 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 24) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 20 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 25) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 19 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 25) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 28 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 29) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 27 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 29) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 21 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 26) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 24 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 27) [0m
  [4;36;1mContactCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 23 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 27) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 26 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 28) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 25 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 28) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 30 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 30) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 29 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 30) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 31 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 23) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 15 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 23) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 33 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 31) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 32 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 31) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 35 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 32) [0m
  [4;36;1mContactCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 34 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 32) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 37 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 33) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 36 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 33) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 39 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 35) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 38 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 35) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 41 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 36) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 40 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 36) [0m
  [4;36;1mContactCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 45 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 38) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 44 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 38) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 49 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 41) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 48 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 41) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 51 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 42) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 50 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 42) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 53 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 43) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 52 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 43) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 55 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 44) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 54 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 44) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 57 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 45) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 56 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 45) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 59 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 46) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 58 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 46) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 61 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 47) [0m
  [4;36;1mContactCategory Load (8.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 60 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 47) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 63 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 48) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 62 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 48) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 65 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 49) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 64 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 49) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 67 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 50) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 66 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 50) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 69 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 51) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 68 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 51) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 73 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 54) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 72 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 54) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 77 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 56) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 76 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 56) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 79 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 57) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 78 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 57) [0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 85 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 61) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 84 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 61) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 86 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 65) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 89 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 77) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 43 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 37) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 42 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 37) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 47 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 40) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 46 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 40) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 71 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 53) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 70 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 53) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 74 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 55) [0m
  [4;36;1mContactCategory Load (0.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 81 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 58) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 80 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 58) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 83 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 59) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 82 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 59) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 5) [0m
  [4;36;1mContactCategory Load (0.3ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 3 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 7) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 2 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 6) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 4 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 8) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 5 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 9) [0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 6 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 10) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 7 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 11) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 8 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.1ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 12) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 9 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 13) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 10 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 15) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 12 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 18) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 13 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 19) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 14 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 20) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 87 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 75) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 88 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 76) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 75 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 55) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 91 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 79) [0m
  [4;36;1mSupplier Load (1.4ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mCurrencyType Load (1.3ms)[0m   [0mSELECT * FROM "currency_types" [0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mContactCategory Load (0.8ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 3 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mContact Load (0.8ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 22) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 5 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 60) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 4 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mContact Load (0.8ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 39) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 6 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 75) [0m
  [4;35;1mContactCategory Load (0.9ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 2 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 21) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
Rendered backend/material_management/purchase_orders/_form_header (561.1ms)
  [4;35;1mMaterial::RawMaterial Load (15.9ms)[0m   [0mSELECT * FROM "material_raw_materials" [0m
  [4;36;1mMaterial::MeasureUnit Load (1.2ms)[0m   [0;1mSELECT * FROM "material_measure_units" [0m
  [4;35;1mMaterial::PurchaseOrderPosition Load (1.9ms)[0m   [0mSELECT * FROM "material_purchase_order_positions" WHERE ("material_purchase_order_positions".material_purchase_order_id = 2) [0m
  [4;36;1mMaterial::RawMaterial Load (1.6ms)[0m   [0;1mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 71) [0m
  [4;35;1mMaterial::MeasureUnit Load (0.6ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;36;1mMaterial::RawMaterial Load (0.9ms)[0m   [0;1mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 74) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
Rendered backend/material_management/purchase_orders/_items (13.7ms)
Rendered backend/material_management/purchase_orders/_form_items (327.6ms)
Rendered backend/material_management/purchase_orders/_form (889.9ms)
Rendered shared/backend/material_management/_menunav (4.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUserGroup Load (1.2ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mState Load (2.3ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (4.1ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 1170ms (View: 936, DB: 182) | 200 OK [http://127.0.0.1/backend/material_management/purchase_orders/2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:53:26) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::IncomingInvoicesController#confirm_purchase_order (for 127.0.0.1 at 2015-08-27 14:53:28) [POST]
  Parameters: {"purchase_order_id"=>"000002", "action"=>"confirm_purchase_order", "controller"=>"backend/financial_management/incoming_invoices"}
*** GLOBALS: #<struct #<Class:0xb4904db8> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb49055ec> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 14:53:28.521550', "perishable_token" = E'72N8osusbXFNRafZsRj9', "last_request_at" = '2015-08-27 14:53:28.520561' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (23.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMaterial::PurchaseOrder Load (1.0ms)[0m   [0mSELECT * FROM "material_purchase_orders" WHERE ("material_purchase_orders"."id" = E'000002') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (1.9ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoices" WHERE ("account_payable_incoming_invoices".material_purchase_order_id = 2) LIMIT 1[0m
  [4;35;1mMaterial::PurchaseOrderPosition Load (1.4ms)[0m   [0mSELECT * FROM "material_purchase_order_positions" WHERE ("material_purchase_order_positions".material_purchase_order_id = 2) [0m
  [4;36;1mMaterial::RawMaterial Load (2.8ms)[0m   [0;1mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 71) [0m
  [4;35;1mMaterial::MeasureUnit Load (1.0ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;36;1mTax Load (25.6ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mMaterial::RawMaterial Load (1.5ms)[0m   [0mSELECT * FROM "material_raw_materials" WHERE ("material_raw_materials"."id" = 74) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
Rendering backend/financial_management/incoming_invoices/confirm_purchase_order
Rendered backend/financial_management/incoming_invoices/_totals (10.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
Rendered backend/financial_management/incoming_invoices/_items (7.1ms)
Rendered backend/financial_management/incoming_invoices/_incoming_invoice_taxes (1.7ms)
  [4;35;1mSupplier Load (1.5ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mContactCategory Load (1.2ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mAppConfig Load (0.5ms)[0m   [0;1mSELECT * FROM "app_configs" WHERE ("app_configs"."name" = E'TAX') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "app_configs" WHERE ("app_configs"."name" = E'TAX') LIMIT 1[0m
Completed in 547ms (View: 175, DB: 69) | 200 OK [http://127.0.0.1/backend/financial_management/incoming_invoices/confirm_purchase_order]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::IncomingInvoicesController#create (for 127.0.0.1 at 2015-08-27 14:53:46) [POST]
  Parameters: {"authenticity_token"=>"WQdbUzo4zUqg1c9Ct2FBO87DJ5wtqKRVqugIGkr97BU=", "account_payable_incoming_invoice_position"=>{"taxable"=>"", "sub_total"=>"", "material_order_measure_unit_id"=>"", "material_raw_material_id"=>"", "total"=>"", "tax_amount"=>"", "description"=>"", "tax_id"=>"3", "quantity"=>""}, "account_payable_incoming_invoice"=>{"tenderer_name"=>"GABRIEL JESUS PLAZA LAMUÑO", "total_amount"=>"18368.0", "amount_reduced"=>"0", "amount_general"=>"16400.0", "legal_contractual_voluntary_obligation"=>"0", "control_number"=>"23", "supplier_name"=>"GABRIEL JESUS PLAZA LAMUÑO", "amount_additional"=>"0", "retained_amount"=>"0.0", "currency_type_id"=>"1", "tenderer_id"=>"18", "municipal_tax"=>"0", "invoice_date"=>"2015-08-15", "associated_purchase_ledgers"=>"1", "supplier_id"=>"18", "sub_total_amount"=>"16400.0", "description"=>"dsdsdsd", "reference"=>"123", "tenderer_type"=>"Supplier", "account_payable_incoming_invoice_document_type_id"=>"2", "amount_exempt"=>"0", "tax_amount_general"=>"1968.0", "tax_amount_additional"=>"0", "purchase_ledger_period"=>"2015-08", "amount_total_to_paid"=>"18368.0", "tax_amount_reduced"=>"0", "material_purchase_order_id"=>"000002"}, "s"=>"1968.0", "action"=>"create", "controller"=>"backend/financial_management/incoming_invoices"}
*** GLOBALS: #<struct #<Class:0xb49dfbc0> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb49e0390> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (25.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:53:46.173986', "perishable_token" = E'0rOmMDLaVh6gDYbkb2I', "last_request_at" = '2015-08-27 14:53:46.172356' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mAppConfig Load (0.9ms)[0m   [0;1mSELECT * FROM "app_configs" WHERE ("app_configs"."name" = E'TAX') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoiceDocumentType Load (0.7ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_document_types" WHERE ("account_payable_incoming_invoice_document_types"."id" = 2) [0m
  [4;36;1mSupplier Load (0.9ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mCurrencyType Load (0.9ms)[0m   [0mSELECT * FROM "currency_types" WHERE ("currency_types"."id" = 1) [0m
  [4;36;1mContactCategory Load (1.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (25.0ms)[0m   [0;1mINSERT INTO "account_payable_incoming_invoices" ("control_number", "tax", "total_amount", "updated_at", "legal_contractual_voluntary_obligation", "tax_exempt", "amount_general", "amount_reduced", "currency_type_id", "tenderer_id", "retained_amount", "amount_additional", "create_by_id", "posting_date", "invoice_date", "balance", "municipal_tax", "created_at", "associated_purchase_ledgers", "supplier_id", "account_payable_incoming_invoice_document_type_id", "tenderer_type", "reference", "description", "sub_total_amount", "tax_amount", "tax_amount_general", "amount_exempt", "no_deductible", "tax_amount_additional", "purchase_ledger_period", "material_purchase_order_id", "tax_amount_reduced", "amount_total_to_paid") VALUES(E'23', 12.0, 18368.0, '2015-08-27 14:53:46.431495', 'f', 'f', 16400.0, 0.0, 1, 18, 0.0, 0.0, 1, '2015-08-27', E'2015-08-15', 0.0, 'f', '2015-08-27 14:53:46.431495', 't', 18, 2, E'Supplier', E'123', E'dsdsdsd', 16400.0, NULL, 1968.0, 0.0, 'f', 0.0, E'2015-08', 2, 0.0, 18368.0) RETURNING "id"[0m
  [4;35;1mSQL (38.0ms)[0m   [0mINSERT INTO "accounting_payable_accounts" ("doc_id", "control_number", "updated_at", "tenderer_id", "doc_type", "date_doc_expiration", "balance", "note", "canceled", "created_at", "tenderer_type", "reference", "total", "date_doc", "paid", "cashed") VALUES(59, E'23', '2015-08-27 14:53:46.496223', 18, E'AccountPayable::IncomingInvoice', E'2015-08-15', 18368.0, E'Entrada de Factura #00059', 'f', '2015-08-27 14:53:46.496223', E'Supplier', E'123', 18368.0, E'2015-08-15', 0.0, 'f') RETURNING "id"[0m
  [4;36;1mAccountPayable::IncomingInvoice Update (1.6ms)[0m   [0;1mUPDATE "account_payable_incoming_invoices" SET "created_at" = '2015-08-27 14:53:46.431495', "updated_at" = '2015-08-27 14:53:46.547061', "purchase_ledger_period" = E'2015-08', "tenderer_type" = E'Supplier', "invoice_date" = E'2015-08-15', "tax" = 12.0, "tax_amount_general" = 1968.0, "balance" = 18368.0, "create_by_id" = 1, "currency_type_id" = 1, "control_number" = E'23', "amount_total_to_paid" = 18368.0, "account_payable_incoming_invoice_document_type_id" = 2, "sub_total_amount" = 16400.0, "description" = E'dsdsdsd', "material_purchase_order_id" = 2, "supplier_id" = 18, "total_amount" = 18368.0, "reference" = E'123', "posting_date" = '2015-08-27', "tenderer_id" = 18, "amount_general" = 16400.0 WHERE "id" = 59[0m
  [4;35;1mAccountPayable::IncomingInvoiceStatusType Load (1.4ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_status_types" WHERE ("account_payable_incoming_invoice_status_types"."default" = 't') LIMIT 1[0m
  [4;36;1mAccountPayable::StatusIncomingInvoice Load (1.5ms)[0m   [0;1mSELECT * FROM "account_payable_status_incoming_invoices" WHERE ("account_payable_status_incoming_invoices".account_payable_incoming_invoice_id = 59) [0m
  [4;35;1mSQL (6.4ms)[0m   [0mINSERT INTO "account_payable_status_incoming_invoices" ("updated_at", "account_payable_incoming_invoice_id", "create_by_id", "note", "created_at", "account_payable_incoming_invoice_status_type_id", "actual") VALUES('2015-08-27 14:53:46.571922', 59, 1, NULL, '2015-08-27 14:53:46.571922', 1, 't') RETURNING "id"[0m
  [4;36;1mSQL (16.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mMaterial::MeasureUnit Load (1.0ms)[0m   [0;1mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;35;1mTax Load (1.0ms)[0m   [0mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;36;1mSQL (29.1ms)[0m   [0;1mINSERT INTO "account_payable_incoming_invoice_positions" ("updated_at", "total_amount", "account_payable_incoming_invoice_id", "material_order_measure_unit_id", "sub_total", "taxable", "material_raw_material_id", "created_at", "total", "description", "tax_amount", "quantity", "tax_id") VALUES('2015-08-27 14:53:46.630045', NULL, 59, 1, 1200.0, 14400.0, 71, '2015-08-27 14:53:46.630045', 16128.0, E'Carpeta marrón con gancho tipo oficio ', 1728.0, 12.0, 3) RETURNING "id"[0m
  [4;35;1mSQL (14.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMaterial::MeasureUnit Load (0.7ms)[0m   [0mSELECT * FROM "material_measure_units" WHERE ("material_measure_units"."id" = 1) [0m
  [4;36;1mTax Load (0.7ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO "account_payable_incoming_invoice_positions" ("updated_at", "total_amount", "account_payable_incoming_invoice_id", "material_order_measure_unit_id", "sub_total", "taxable", "material_raw_material_id", "created_at", "total", "description", "tax_amount", "quantity", "tax_id") VALUES('2015-08-27 14:53:46.688851', NULL, 59, 1, 2000.0, 2000.0, 74, '2015-08-27 14:53:46.688851', 2240.0, E'Carpeta manilla tipo carta ', 240.0, 1.0, 3) RETURNING "id"[0m
  [4;36;1mSQL (12.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSupplierWithholdingTaxe Load (14.4ms)[0m   [0mSELECT * FROM "supplier_withholding_taxes" WHERE ("supplier_withholding_taxes".supplier_id = 18) [0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/controllers/backend/financial_management/incoming_invoices_controller.rb:89:in `create'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.16/lib/will_paginate/finder.rb:168:in `method_missing'
  /usr/lib/ruby/gems/1.8/gems/will_paginate-2.3.16/lib/will_paginate/finder.rb:168:in `method_missing'
  app/controllers/backend/financial_management/incoming_invoices_controller.rb:87:in `create'

Rendered rescues/_trace (28.1ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::Cpanel::HomeController#index (for 127.0.0.1 at 2015-08-27 14:56:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/cpanel/home"}
*** GLOBALS: #<struct #<Class:0xb4dd0f68> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4dda3c4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:56:47.926466', "perishable_token" = E'UndodGuaieiFio7cOJvl', "last_request_at" = '2015-08-27 14:56:47.924844' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccounting::AccountantAccount Load (2.2ms)[0m   [0;1mSELECT * FROM "accounting_accountant_accounts" WHERE ("accounting_accountant_accounts"."parent_account_id" = 0) [0m
  [4;35;1mConfigPanel::ModuleCategory Load (1.0ms)[0m   [0mSELECT * FROM "config_panel_module_categories" WHERE ("config_panel_module_categories"."tag_name" = E'cpanel') LIMIT 1[0m
  [4;36;1mConfigPanel::Module Load (1.7ms)[0m   [0;1mSELECT * FROM "config_panel_modules" WHERE ("config_panel_modules"."active" = 't' AND "config_panel_modules"."config_panel_module_category_id" = 3) ORDER BY orden ASC[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "config_panel_module_categories" WHERE ("config_panel_module_categories"."tag_name" = E'cpanel') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "config_panel_modules" WHERE ("config_panel_modules"."active" = 't' AND "config_panel_modules"."config_panel_module_category_id" = 3) ORDER BY orden ASC[0m
  [4;35;1mUserGroup Load (1.3ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mConfigPanel::Submodule Load (1.2ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 1 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.3ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 2 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (2.0ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 3 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.2ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 9 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (1.3ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 4 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (0.9ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 6 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (0.9ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 7 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.1ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 5 AND ("config_panel_submodules"."active" = 't')) [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/cpanel/home/index
Rendered shared/backend/cpanel/_menunav (0.6ms)
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mState Load (1.4ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (3.6ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 426ms (View: 214, DB: 106) | 200 OK [http://127.0.0.1/backend/cpanel/home]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:56:49) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::HumanResource::EmployeesController#index (for 127.0.0.1 at 2015-08-27 14:57:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/human_resource/employees"}
*** GLOBALS: #<struct #<Class:0xb4af78c8> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4afa6f4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:57:01.938469', "perishable_token" = E'D5An4hdLMb0sAKJN3N', "last_request_at" = '2015-08-27 14:57:01.935693' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (13.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayroll::Employee Load Including Associations (63.0ms)[0m   [0;1mSELECT "payroll_employees"."id" AS t0_r0, "payroll_employees"."payroll_staff_id" AS t0_r1, "payroll_employees"."payroll_position_id" AS t0_r2, "payroll_employees"."payroll_personal_type_id" AS t0_r3, "payroll_employees"."payroll_employee_status_type_id" AS t0_r4, "payroll_employees"."payroll_department_id" AS t0_r5, "payroll_employees"."salary" AS t0_r6, "payroll_employees"."income_date" AS t0_r7, "payroll_employees"."discharge_date" AS t0_r8, "payroll_employees"."islr_percentage" AS t0_r9, "payroll_employees"."faov_listed" AS t0_r10, "payroll_employees"."sso_listed" AS t0_r11, "payroll_employees"."fju_listed" AS t0_r12, "payroll_employees"."spf_listed" AS t0_r13, "payroll_employees"."payroll_payment_method_type_id" AS t0_r14, "payroll_employees"."account_number" AS t0_r15, "payroll_employees"."access_code" AS t0_r16, "payroll_employees"."assistance_validate" AS t0_r17, "payroll_employee_status_types"."id" AS t1_r0, "payroll_employee_status_types"."name" AS t1_r1, "payroll_employee_status_types"."tag_name" AS t1_r2, "payroll_staffs"."id" AS t2_r0, "payroll_staffs"."identification_document" AS t2_r1, "payroll_staffs"."first_name" AS t2_r2, "payroll_staffs"."last_name" AS t2_r3, "payroll_staffs"."email" AS t2_r4, "payroll_staffs"."birthday" AS t2_r5, "payroll_staffs"."payroll_gender_id" AS t2_r6, "payroll_staffs"."rif" AS t2_r7, "payroll_staffs"."second_name" AS t2_r8, "payroll_staffs"."second_last_name" AS t2_r9, "payroll_staffs"."telephone" AS t2_r10, "payroll_staffs"."cellphone" AS t2_r11 FROM "payroll_employees" LEFT OUTER JOIN "payroll_employee_status_types" ON "payroll_employee_status_types".id = "payroll_employees".payroll_employee_status_type_id LEFT OUTER JOIN "payroll_staffs" ON "payroll_staffs".id = "payroll_employees".payroll_staff_id WHERE (payroll_employee_status_types.tag_name = E'A') ORDER BY payroll_employees.income_date ASC[0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/human_resource/employees/index
  [4;35;1mPayroll::PersonalType Load (16.2ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 3) [0m
  [4;36;1mPayroll::Position Load (1.0ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 14) [0m
  [4;35;1mPayroll::Department Load (0.9ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 3) [0m
  [4;36;1mPayroll::PersonalType Load (0.6ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mPayroll::Position Load (0.3ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 31) [0m
  [4;36;1mPayroll::Department Load (0.3ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;36;1mPayroll::Position Load (0.5ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 33) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mPayroll::Position Load (0.5ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 23) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;36;1mPayroll::Position Load (0.6ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 26) [0m
  [4;35;1mPayroll::Department Load (0.3ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 11) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 31) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;36;1mPayroll::Position Load (0.6ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 23) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 14) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 31) [0m
  [4;36;1mPayroll::Department Load (0.6ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;36;1mPayroll::Position Load (0.5ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 18) [0m
  [4;35;1mPayroll::Department Load (0.3ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 23) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 18) [0m
  [4;35;1mPayroll::Department Load (0.7ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mPayroll::Position Load (0.5ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 9) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 32) [0m
  [4;35;1mPayroll::Department Load (0.7ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;36;1mPayroll::Position Load (0.6ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 25) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;36;1mPayroll::Position Load (0.6ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 3) [0m
  [4;36;1mPayroll::PersonalType Load (0.5ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 2) [0m
  [4;35;1mPayroll::Position Load (0.4ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 34) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 2) [0m
  [4;36;1mPayroll::Position Load (0.5ms)[0m   [0;1mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 11) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_personal_types" WHERE ("payroll_personal_types"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "payroll_positions" WHERE ("payroll_positions"."id" = 26) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "payroll_departments" WHERE ("payroll_departments"."id" = 5) [0m
Rendered shared/backend/human_resource/_menunav (9.4ms)
  [4;35;1mContactCategory Load (1.5ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mUserGroup Load (1.4ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mState Load (2.0ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (4.1ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 568ms (View: 318, DB: 140) | 200 OK [http://127.0.0.1/backend/human_resource/employees]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:57:03) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::Cpanel::HomeController#index (for 127.0.0.1 at 2015-08-27 14:58:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/cpanel/home"}
*** GLOBALS: #<struct #<Class:0xb4a5ad84> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a5bd4c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (29.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:58:14.413782', "perishable_token" = E'mdAhpGaHiFNAz5yfQEd', "last_request_at" = '2015-08-27 14:58:14.412067' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccounting::AccountantAccount Load (2.2ms)[0m   [0;1mSELECT * FROM "accounting_accountant_accounts" WHERE ("accounting_accountant_accounts"."parent_account_id" = 0) [0m
  [4;35;1mConfigPanel::ModuleCategory Load (0.8ms)[0m   [0mSELECT * FROM "config_panel_module_categories" WHERE ("config_panel_module_categories"."tag_name" = E'cpanel') LIMIT 1[0m
  [4;36;1mConfigPanel::Module Load (2.0ms)[0m   [0;1mSELECT * FROM "config_panel_modules" WHERE ("config_panel_modules"."active" = 't' AND "config_panel_modules"."config_panel_module_category_id" = 3) ORDER BY orden ASC[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "config_panel_module_categories" WHERE ("config_panel_module_categories"."tag_name" = E'cpanel') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "config_panel_modules" WHERE ("config_panel_modules"."active" = 't' AND "config_panel_modules"."config_panel_module_category_id" = 3) ORDER BY orden ASC[0m
  [4;35;1mUserGroup Load (1.2ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mConfigPanel::Submodule Load (1.6ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 1 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.2ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 2 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (1.0ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 3 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.2ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 9 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (1.4ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 4 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.1ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 6 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (1.1ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 7 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.3ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 5 AND ("config_panel_submodules"."active" = 't')) [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/cpanel/home/index
Rendered shared/backend/cpanel/_menunav (0.4ms)
  [4;36;1mContactCategory Load (1.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (1.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mState Load (2.6ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (4.2ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 413ms (View: 117, DB: 68) | 200 OK [http://127.0.0.1/backend/cpanel/home]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:58:15) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#index (for 127.0.0.1 at 2015-08-27 14:58:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a37b54> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a386a8> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:58:20.386651', "perishable_token" = E'vH6LY7gVOzyd4PtC3hB', "last_request_at" = '2015-08-27 14:58:20.384826' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (31.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (2.0ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-01') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-02') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-03') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-04') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-05') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-06') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-07') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-08') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-09') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.7ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-10') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.7ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-11') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.7ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-12') LIMIT 1[0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/purchase_ledgers/index
Rendered shared/backend/financial_management/_menunav (5.8ms)
  [4;36;1mContactCategory Load (1.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUserGroup Load (1.2ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mState Load (2.2ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (2.7ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 526ms (View: 231, DB: 108) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:58:21) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show (for 127.0.0.1 at 2015-08-27 14:58:25) [GET]
  Parameters: {"id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a4b618> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a4be10> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 14:58:25.535255', "perishable_token" = E'MFyKlokM0WuMniUPyHf', "last_request_at" = '2015-08-27 14:58:25.533919' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (4.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccountPayable::IncomingInvoice Load Including Associations (17.6ms)[0m   [0mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;36;1mAccountPayable::IncomingInvoiceTax Load (6.3ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mTax Load (0.7ms)[0m   [0mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/purchase_ledgers/show
  [4;36;1mSupplier Load (1.7ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;35;1mContactCategory Load (0.9ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (1.4ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;35;1mSupplier Load (1.1ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mContactCategory Load (0.7ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mIdentificationDocumentType Load (17.2ms)[0m   [0;1mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Rendered shared/backend/financial_management/_menunav (5.1ms)
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mUserGroup Load (0.7ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mState Load (2.1ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (2.2ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 613ms (View: 294, DB: 108) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 14:58:27) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to pdf (for 127.0.0.1 at 2015-08-27 14:58:35) [GET]
  Parameters: {"format"=>"pdf", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4f4a614> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4f4b8c0> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 14:58:35.891425', "perishable_token" = E'ZgLH3Picp1Wqar4L8eua', "last_request_at" = '2015-08-27 14:58:35.889657' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (58.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.0ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (0.9ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (0.8ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
***************WICKED***************
Rendering template within layouts/backend/contable_document
Rendering backend/financial_management/purchase_ledgers/show
  [4;35;1mSupplier Load (1.0ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mContactCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mIdentificationDocumentType Load (0.6ms)[0m   [0;1mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Rendering template within layouts/backend/contable_document
Rendering shared/backend/layouts/header_contable_document_with_fiscal_info.erb
  [4;35;1mSupplier Load (0.8ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Sending data PurchaseLedgers_2015-05.pdf
Completed in 2730ms (View: 1, DB: 0) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.pdf]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::ServiceOrdersController#index (for 127.0.0.1 at 2015-08-27 15:18:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/financial_management/service_orders"}
*** GLOBALS: #<struct #<Class:0xb4ac0684> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4ac38e8> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:18:02.477923', "perishable_token" = E'LwPadhBbJnJHySR2zTf', "last_request_at" = '2015-08-27 15:18:02.476076' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccounting::ServiceOrder Load (12.7ms)[0m   [0;1mSELECT * FROM "accounting_service_orders" [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/service_orders/index
  [4;35;1mSupplier Load (1.1ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mContactCategory Load (0.8ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mAccounting::ServiceOrderPosition Load (17.7ms)[0m   [0mSELECT * FROM "accounting_service_order_positions" WHERE ("accounting_service_order_positions".accounting_service_order_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mAccounting::ServiceOrderPosition Load (0.8ms)[0m   [0;1mSELECT * FROM "accounting_service_order_positions" WHERE ("accounting_service_order_positions".accounting_service_order_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mAccounting::ServiceOrderPosition Load (0.7ms)[0m   [0mSELECT * FROM "accounting_service_order_positions" WHERE ("accounting_service_order_positions".accounting_service_order_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mAccounting::ServiceOrderPosition Load (0.8ms)[0m   [0;1mSELECT * FROM "accounting_service_order_positions" WHERE ("accounting_service_order_positions".accounting_service_order_id = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mAccounting::ServiceOrderPosition Load (9.0ms)[0m   [0mSELECT * FROM "accounting_service_order_positions" WHERE ("accounting_service_order_positions".accounting_service_order_id = 5) [0m
Rendered shared/backend/financial_management/_menunav (6.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUserGroup Load (1.3ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mState Load (1.9ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (4.2ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 452ms (View: 294, DB: 84) | 200 OK [http://127.0.0.1/backend/financial_management/service_orders]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 15:18:03) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::Cpanel::HomeController#index (for 127.0.0.1 at 2015-08-27 15:18:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/cpanel/home"}
*** GLOBALS: #<struct #<Class:0xb4accca4> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4acde10> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 15:18:07.367227', "perishable_token" = E'aOuisXrXeK7n57oPOOU', "last_request_at" = '2015-08-27 15:18:07.365409' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (3.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccounting::AccountantAccount Load (2.3ms)[0m   [0mSELECT * FROM "accounting_accountant_accounts" WHERE ("accounting_accountant_accounts"."parent_account_id" = 0) [0m
  [4;36;1mConfigPanel::ModuleCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "config_panel_module_categories" WHERE ("config_panel_module_categories"."tag_name" = E'cpanel') LIMIT 1[0m
  [4;35;1mConfigPanel::Module Load (1.1ms)[0m   [0mSELECT * FROM "config_panel_modules" WHERE ("config_panel_modules"."active" = 't' AND "config_panel_modules"."config_panel_module_category_id" = 3) ORDER BY orden ASC[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "config_panel_module_categories" WHERE ("config_panel_module_categories"."tag_name" = E'cpanel') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "config_panel_modules" WHERE ("config_panel_modules"."active" = 't' AND "config_panel_modules"."config_panel_module_category_id" = 3) ORDER BY orden ASC[0m
  [4;36;1mUserGroup Load (0.7ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mConfigPanel::Submodule Load (1.3ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 1 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (1.3ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 2 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.0ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 3 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (1.2ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 9 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (1.3ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 4 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (0.9ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 6 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;35;1mConfigPanel::Submodule Load (0.9ms)[0m   [0mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 7 AND ("config_panel_submodules"."active" = 't')) [0m
  [4;36;1mConfigPanel::Submodule Load (1.1ms)[0m   [0;1mSELECT * FROM "config_panel_submodules" WHERE ("config_panel_submodules".config_panel_module_id = 5 AND ("config_panel_submodules"."active" = 't')) [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/cpanel/home/index
Rendered shared/backend/cpanel/_menunav (0.6ms)
  [4;35;1mContactCategory Load (1.5ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mContact Load (1.4ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mState Load (2.0ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (4.2ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 383ms (View: 208, DB: 64) | 200 OK [http://127.0.0.1/backend/cpanel/home]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 15:18:08) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#index (for 127.0.0.1 at 2015-08-27 15:18:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4b11b24> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4b142d4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 15:18:40.222027', "perishable_token" = E'3yaEHZghhpNrOecd6647', "last_request_at" = '2015-08-27 15:18:40.220304' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (3.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (2.1ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-01') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-02') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.5ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-03') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-04') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-05') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-06') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.7ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-07') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.7ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-08') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.9ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-09') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.5ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-10') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.7ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-11') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.5ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-12') LIMIT 1[0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/purchase_ledgers/index
Rendered shared/backend/financial_management/_menunav (5.2ms)
  [4;35;1mContactCategory Load (1.5ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mContact Load (1.5ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mUserGroup Load (1.4ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mState Load (2.3ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (4.2ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 381ms (View: 221, DB: 72) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#index (for 127.0.0.1 at 2015-08-27 15:18:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a2b8cc> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a2c0c4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:18:40.676403', "perishable_token" = E'eE6I6iSOM3vbcQT2AHte', "last_request_at" = '2015-08-27 15:18:40.674936' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (5.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (1.2ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-01') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.9ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-02') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-03') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-04') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.9ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-05') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-06') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-07') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-08') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-09') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-10') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-11') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.9ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-12') LIMIT 1[0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/purchase_ledgers/index
Rendered shared/backend/financial_management/_menunav (6.5ms)
  [4;36;1mContactCategory Load (1.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (1.3ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUserGroup Load (1.3ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mState Load (2.4ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (4.0ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 344ms (View: 111, DB: 37) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers]
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 15:18:42) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show (for 127.0.0.1 at 2015-08-27 15:18:44) [GET]
  Parameters: {"id"=>"2015-03", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a77614> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a77e48> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 15:18:45.022429', "perishable_token" = E'A2gKHSBOePUGr8UoDB6', "last_request_at" = '2015-08-27 15:18:45.020430' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (13.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccountPayable::IncomingInvoice Load Including Associations (2.7ms)[0m   [0mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-03' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/purchase_ledgers/show
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;35;1mContactCategory Load (1.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.9ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Rendered shared/backend/financial_management/_menunav (7.3ms)
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mContact Load (0.6ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mUserGroup Load (0.7ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mState Load (1.3ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (2.6ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 363ms (View: 224, DB: 69) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-03]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 15:18:46) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show (for 127.0.0.1 at 2015-08-27 15:18:49) [GET]
  Parameters: {"id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a375b4> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a380a4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:18:49.855392', "perishable_token" = E'r1S6YzYUSg6StGXQE0Id', "last_request_at" = '2015-08-27 15:18:49.853761' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (4.7ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.4ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.2ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/purchase_ledgers/show
  [4;35;1mSupplier Load (1.2ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.3ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.3ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (0.8ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Rendered shared/backend/financial_management/_menunav (5.1ms)
  [4;36;1mContactCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUserGroup Load (1.2ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mState Load (2.4ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (2.2ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 512ms (View: 233, DB: 73) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 15:18:51) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to pdf (for 127.0.0.1 at 2015-08-27 15:18:53) [GET]
  Parameters: {"format"=>"pdf", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4923bf0> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb49243d4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (51.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 15:18:54.122272', "perishable_token" = E'UhsW2foDE6GshaWikY9', "last_request_at" = '2015-08-27 15:18:54.120444' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (3.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccountPayable::IncomingInvoice Load Including Associations (3.2ms)[0m   [0mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;36;1mAccountPayable::IncomingInvoiceTax Load (1.3ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mTax Load (1.0ms)[0m   [0mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
***************WICKED***************
Rendering template within layouts/backend/contable_document
Rendering backend/financial_management/purchase_ledgers/show
  [4;36;1mSupplier Load (1.0ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.9ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (1.2ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (0.7ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Rendering template within layouts/backend/contable_document
Rendering shared/backend/layouts/header_contable_document_with_fiscal_info.erb
  [4;36;1mSupplier Load (0.7ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;35;1mContactCategory Load (0.5ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.9ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Sending data PurchaseLedgers_2015-05.pdf
Completed in 684ms (View: 1, DB: 0) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.pdf]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:18:59) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4f354a8> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4f48698> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 15:18:59.454286', "perishable_token" = E'SYP2WNpIdCk9QFXS2tN8', "last_request_at" = '2015-08-27 15:18:59.453241' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (6.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccountPayable::IncomingInvoice Load Including Associations (5.4ms)[0m   [0mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;36;1mAccountPayable::IncomingInvoiceTax Load (0.8ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mTax Load (1.0ms)[0m   [0mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
Completed in 147ms (View: 1, DB: 57) | 406 Not Acceptable [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:19:09) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb49eb7a4> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb49ebf9c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:19:09.210940', "perishable_token" = E'cVTWorvA8hVuPiebTnoO', "last_request_at" = '2015-08-27 15:19:09.209289' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.2ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.3ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
Completed in 261ms (View: 1, DB: 51) | 406 Not Acceptable [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:19:47) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4ac9c0c> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4aca558> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 15:19:48.081905', "perishable_token" = E'g4RoGoMYR5deabyT0pj', "last_request_at" = '2015-08-27 15:19:48.079984' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (32.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccountPayable::IncomingInvoice Load Including Associations (5.7ms)[0m   [0mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;36;1mAccountPayable::IncomingInvoiceTax Load (1.2ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mTax Load (1.1ms)[0m   [0mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
Completed in 229ms (View: 1, DB: 121) | 406 Not Acceptable [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:20:59) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4e6c9a4> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4e75518> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:20:59.953162', "perishable_token" = E'4khNJGI2pxOeb6ViuiHR', "last_request_at" = '2015-08-27 15:20:59.951250' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (3.2ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.3ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.9ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Completed in 232ms (View: 1, DB: 64) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:21:53) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb495dbd4> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb495e3a4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:21:53.185439', "perishable_token" = E'OrEhFVDh3V6eS3Zmwqu', "last_request_at" = '2015-08-27 15:21:53.183642' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (3.6ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.0ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (0.7ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (2.0ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.2ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Completed in 297ms (View: 1, DB: 52) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:22:52) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb498e6bc> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb498ee8c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:22:52.672804', "perishable_token" = E'i7BK0AB35xmRf5q5hbF', "last_request_at" = '2015-08-27 15:22:52.671083' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.6ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.4ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.8ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Completed in 308ms (View: 1, DB: 56) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:24:13) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb49cb6c0> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb49cd150> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:24:13.349199', "perishable_token" = E'fPvNhxxlYbSKLiygZ5bH', "last_request_at" = '2015-08-27 15:24:13.347508' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.4ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.4ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.2ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.7ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.2ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Completed in 300ms (View: 1, DB: 52) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:25:50) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a20300> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a20c60> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:25:50.947371', "perishable_token" = E'vzilVxC18e3NsZpVfUGD', "last_request_at" = '2015-08-27 15:25:50.945762' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.4ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.4ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.9ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.3ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Completed in 316ms (View: 1, DB: 52) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:35:56) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a34a08> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a35480> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:35:56.601127', "perishable_token" = E'uFiOJ4mjIfyHe0Kf78Uw', "last_request_at" = '2015-08-27 15:35:56.599428' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.6ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.0ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.9ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.3ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m

NoMethodError (undefined method `upcase' for ["IVA Retenido"]:Array):
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:76:in `map'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:76:in `show'
  /usr/lib/ruby/1.8/csv.rb:330:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:677:in `generate'
  /usr/lib/ruby/1.8/csv.rb:329:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:87:in `open'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:45:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:17:in `show'

Rendered rescues/_trace (25.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:36:28) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb492e03c> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb492fbd0> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (31.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:36:28.645762', "perishable_token" = E'6eov0UMnnnAY4A6XKFU', "last_request_at" = '2015-08-27 15:36:28.643991' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.1ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.3ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.8ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.3ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:78:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `show'
  /usr/lib/ruby/1.8/csv.rb:330:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:677:in `generate'
  /usr/lib/ruby/1.8/csv.rb:329:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:87:in `open'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:45:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:17:in `show'

Rendered rescues/_trace (23.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:36:40) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb48f30b8> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb48f3950> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:36:40.390207', "perishable_token" = E'0ibgVCE1UYnAglivTFy', "last_request_at" = '2015-08-27 15:36:40.388429' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (115.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (4.7ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.4ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.0ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.7ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.6ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.5ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (0.9ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m

NoMethodError (undefined method `concat' for #<CSV::BasicWriter:0xb4a24ab8>):
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:93:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `show'
  /usr/lib/ruby/1.8/csv.rb:330:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:677:in `generate'
  /usr/lib/ruby/1.8/csv.rb:329:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:87:in `open'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:45:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:17:in `show'

Rendered rescues/_trace (25.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:37:33) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4d41610> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4d441a8> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:37:33.154996', "perishable_token" = E'dWZgwfCPS2mWgFl4fNn3', "last_request_at" = '2015-08-27 15:37:33.153579' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (4.4ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (0.9ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (0.6ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.0ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.0ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.6ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (0.6ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
Completed in 179ms (View: 1, DB: 49) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#index (for 127.0.0.1 at 2015-08-27 15:44:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4e28664> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4e2ad38> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:44:39.748417', "perishable_token" = E'aQh856BoxxBTwz3ByJ', "last_request_at" = '2015-08-27 15:44:39.746056' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (13.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (1.9ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-01') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (1.2ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-02') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-03') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-04') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-05') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.5ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-06') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.6ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-07') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.5ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-08') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.7ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-09') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.5ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-10') LIMIT 1[0m
  [4;36;1mAccountPayable::IncomingInvoice Load (0.6ms)[0m   [0;1mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-11') LIMIT 1[0m
  [4;35;1mAccountPayable::IncomingInvoice Load (0.8ms)[0m   [0mSELECT SUM(sub_total_amount) AS sub_total_amount,SUM(tax) AS tax,SUM(total_amount) AS total_amount FROM "account_payable_incoming_invoices" WHERE (purchase_ledger_period = E'2015-12') LIMIT 1[0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/purchase_ledgers/index
Rendered shared/backend/financial_management/_menunav (5.2ms)
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mContact Load (1.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUserGroup Load (1.4ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mState Load (2.2ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (4.5ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 465ms (View: 317, DB: 68) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 15:44:41) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show (for 127.0.0.1 at 2015-08-27 15:47:55) [GET]
  Parameters: {"id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4e783a8> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4e81138> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 15:47:55.224421', "perishable_token" = E'Oxg87r6f1foXiQWIZoF', "last_request_at" = '2015-08-27 15:47:55.222422' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (33.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccountPayable::IncomingInvoice Load Including Associations (5.3ms)[0m   [0mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;36;1mAccountPayable::IncomingInvoiceTax Load (1.3ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mTax Load (1.1ms)[0m   [0mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/purchase_ledgers/show
  [4;36;1mSupplier Load (1.9ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;35;1mContactCategory Load (1.1ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (1.4ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;35;1mSupplier Load (1.1ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mContactCategory Load (0.6ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.7ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mIdentificationDocumentType Load (0.9ms)[0m   [0;1mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Rendered shared/backend/financial_management/_menunav (7.2ms)
  [4;35;1mContactCategory Load (1.0ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mUserGroup Load (1.2ms)[0m   [0mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;36;1mState Load (2.3ms)[0m   [0;1mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;35;1mOrder Load (4.2ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 494ms (View: 242, DB: 145) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 15:47:56) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to pdf (for 127.0.0.1 at 2015-08-27 15:47:59) [GET]
  Parameters: {"format"=>"pdf", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a87424> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a87d20> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:47:59.520015', "perishable_token" = E'a4Tqcvk3jXdi1TJ8d3', "last_request_at" = '2015-08-27 15:47:59.518563' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (2.8ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (0.9ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (0.8ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
***************WICKED***************
Rendering template within layouts/backend/contable_document
Rendering backend/financial_management/purchase_ledgers/show
  [4;35;1mSupplier Load (1.0ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mIdentificationDocumentType Load (0.7ms)[0m   [0;1mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Rendering template within layouts/backend/contable_document
Rendering shared/backend/layouts/header_contable_document_with_fiscal_info.erb
  [4;35;1mSupplier Load (0.8ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (0.5ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.6ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Sending data PurchaseLedgers_2015-05.pdf
Completed in 1206ms (View: 1, DB: 0) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.pdf]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:48:08) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a15068> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a15900> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:48:08.220468', "perishable_token" = E'vVaWQKGXgDgUTWPvqg', "last_request_at" = '2015-08-27 15:48:08.218806' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (60.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (4.8ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.2ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (0.8ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.3ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (0.9ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (0.8ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.5ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (0.6ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
Completed in 380ms (View: 1, DB: 135) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:55:52) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a2f8f0> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a30250> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:55:52.766325', "perishable_token" = E'B0JgMJNtOixUonPUD', "last_request_at" = '2015-08-27 15:55:52.764545' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (4.8ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.2ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.8ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.2ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (0.9ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:98:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:94:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:94:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `show'
  /usr/lib/ruby/1.8/csv.rb:330:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:677:in `generate'
  /usr/lib/ruby/1.8/csv.rb:329:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:87:in `open'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:45:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:17:in `show'

Rendered rescues/_trace (25.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:56:09) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4909610> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4909f5c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:56:09.999023', "perishable_token" = E'CMRZCvvuqT6J0FeR3FC8', "last_request_at" = '2015-08-27 15:56:09.997675' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.5ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.3ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.0ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.8ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.3ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.8ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (1.0ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:98:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:94:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:94:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `show'
  /usr/lib/ruby/1.8/csv.rb:330:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:677:in `generate'
  /usr/lib/ruby/1.8/csv.rb:329:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:87:in `open'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:45:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:17:in `show'

Rendered rescues/_trace (31.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 15:56:49) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb48afa5c> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb48b02a4> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 15:56:49.499332', "perishable_token" = E'45ndeU4NYVwtnHqiGDiA', "last_request_at" = '2015-08-27 15:56:49.497545' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.5ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.0ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.2ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.9ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.2ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.8ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (1.1ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Completed in 342ms (View: 1, DB: 58) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 16:01:00) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4958698> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4958e68> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (43.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 16:01:00.438581', "perishable_token" = E'vfu6nD6YPOHKzPpckdb', "last_request_at" = '2015-08-27 16:01:00.436793' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.3ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.0ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.9ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.0ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.5ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (1.0ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m

NameError (uninitialized constant Backend::FinancialManagement::PurchaseLedgersController::DSDD):
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:95:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:94:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:94:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `show'
  /usr/lib/ruby/1.8/csv.rb:330:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:677:in `generate'
  /usr/lib/ruby/1.8/csv.rb:329:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:87:in `open'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:45:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:17:in `show'

Rendered rescues/_trace (25.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 16:01:10) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4cd995c> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4cdf744> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 16:01:10.894137', "perishable_token" = E'DnfLzOpkwoB94Xyy43Ij', "last_request_at" = '2015-08-27 16:01:10.892335' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (14.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (3.3ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.4ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.7ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.3ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.8ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (0.8ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m

NameError (uninitialized constant Backend::FinancialManagement::PurchaseLedgersController::DD):
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:97:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:94:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:94:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `each'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:77:in `show'
  /usr/lib/ruby/1.8/csv.rb:330:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:677:in `generate'
  /usr/lib/ruby/1.8/csv.rb:329:in `open_writer'
  /usr/lib/ruby/1.8/csv.rb:87:in `open'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:45:in `show'
  app/controllers/backend/financial_management/purchase_ledgers_controller.rb:17:in `show'

Rendered rescues/_trace (131.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 16:01:19) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb49e6380> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb49e6b50> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 16:01:19.171521', "perishable_token" = E'9S3lCKkBJo5f37g5CK5', "last_request_at" = '2015-08-27 16:01:19.169854' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (3.6ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.1ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.2ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.9ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.8ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (1.0ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Completed in 338ms (View: 1, DB: 52) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 16:01:52) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a56450> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a56cfc> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 16:01:52.403326', "perishable_token" = E'9uiYVUKb6QoDfefUdw72', "last_request_at" = '2015-08-27 16:01:52.402136' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (5.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (3.9ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.1ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.2ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.1ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.4ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.6ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (1.0ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Completed in 326ms (View: 1, DB: 51) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 16:02:26) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a69208> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a699ec> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 16:02:27.036696', "perishable_token" = E'zFHFWhcGZjE2xl6VCWMz', "last_request_at" = '2015-08-27 16:02:27.035011' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (3.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.3ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.2ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.1ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;35;1mSupplier Load (1.8ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.4ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.3ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.7ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (0.9ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Completed in 330ms (View: 1, DB: 62) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show (for 127.0.0.1 at 2015-08-27 16:04:46) [GET]
  Parameters: {"id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb4a736b8> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4a7632c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2015-08-27 16:04:46.444557', "perishable_token" = E'0YB8KZCYML2ijDLjGeCO', "last_request_at" = '2015-08-27 16:04:46.443299' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (5.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccountPayable::IncomingInvoice Load Including Associations (5.2ms)[0m   [0;1mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;35;1mAccountPayable::IncomingInvoiceTax Load (1.0ms)[0m   [0mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mTax Load (1.0ms)[0m   [0;1mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
Rendering template within layouts/backend/application_cpanel
Rendering backend/financial_management/purchase_ledgers/show
Rendered shared/layouts/_widget_print_to (2.1ms)
  [4;35;1mSupplier Load (1.9ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;36;1mContactCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (1.5ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (0.8ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.7ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (0.8ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Rendered shared/backend/financial_management/_menunav (6.3ms)
  [4;36;1mContactCategory Load (1.1ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 1 AND "contact_categories".category_type = E'User') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mUserGroup Load (0.9ms)[0m   [0;1mSELECT * FROM "user_groups" INNER JOIN "user_groups_users" ON "user_groups".id = "user_groups_users".user_group_id WHERE ("user_groups_users".user_id = 1 ) [0m
  [4;35;1mState Load (2.3ms)[0m   [0mSELECT "states".* FROM "states" INNER JOIN "state_by_user_groups" ON "states".id = "state_by_user_groups".state_id WHERE (("state_by_user_groups".user_group_id = 1) AND (("states"."apply_to" = E'Order' AND "states"."final" = 'f'))) ORDER BY sequence ASC[0m
  [4;36;1mOrder Load (4.1ms)[0m   [0;1mSELECT "orders".* FROM "orders" INNER JOIN "docs" ON "docs".category_id = "orders".id AND "docs".category_type = E'Order' INNER JOIN "cases" ON "cases".id = "docs".case_id INNER JOIN "tracking_states" ON "tracking_states".proxy_id = "cases".id AND "tracking_states".proxy_type = E'Case' INNER JOIN "trackers" ON trackers.tracking_state_id = tracking_states.id WHERE (orders.canceled = 'f' AND tracking_states.state_id IN (NULL) AND tracking_states.actual = 't' AND trackers.category_id = 1 AND trackers.category_type = E'User' AND trackers.actual = 't') [0m
Completed in 683ms (View: 271, DB: 318) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#index (for 127.0.0.1 at 2015-08-27 16:04:48) [GET]
  Parameters: {"1421247384"=>nil}

ActionController::RoutingError (No route matches "/uploads/users/avatars/1/original/emblemaLiftven.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.5ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to pdf (for 127.0.0.1 at 2015-08-27 16:07:56) [GET]
  Parameters: {"format"=>"pdf", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb49c82a4> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb49ca48c> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 16:07:56.208365', "perishable_token" = E'IiUmrERTMXQn6KRc7f9w', "last_request_at" = '2015-08-27 16:07:56.206552' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (3.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccountPayable::IncomingInvoice Load Including Associations (5.8ms)[0m   [0mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;36;1mAccountPayable::IncomingInvoiceTax Load (1.0ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mTax Load (1.0ms)[0m   [0mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
***************WICKED***************
Rendering template within layouts/backend/contable_document
Rendering backend/financial_management/purchase_ledgers/show
  [4;36;1mSupplier Load (1.5ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;35;1mContactCategory Load (1.3ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (1.3ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;35;1mIdentificationDocumentType Load (1.1ms)[0m   [0mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Rendering template within layouts/backend/contable_document
Rendering shared/backend/layouts/header_contable_document_with_fiscal_info.erb
  [4;36;1mSupplier Load (1.1ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;35;1mContactCategory Load (0.8ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (0.8ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
Sending data PurchaseLedgers_2015-05.pdf
Completed in 672ms (View: 1, DB: 0) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.pdf]
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing Backend::FinancialManagement::PurchaseLedgersController#show to csv (for 127.0.0.1 at 2015-08-27 16:08:04) [GET]
  Parameters: {"format"=>"csv", "id"=>"2015-05", "action"=>"show", "controller"=>"backend/financial_management/purchase_ledgers"}
*** GLOBALS: #<struct #<Class:0xb492340c> SITE_HOST_WITH_PORT="127.0.0.1:3000", SITE_HOST="127.0.0.1", SITE_PORT=3000, SITE_URL="http://127.0.0.1:3000", ASSETS=#<struct #<Class:0xb4923c68> CSS="http://127.0.0.1:3000/assets/stylesheets", SCRIPTS="http://127.0.0.1:3000/assets/scripts/lib", IMAGES="http://127.0.0.1:3000/assets/images">> ***
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = E'1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2015-08-27 16:08:04.452384', "perishable_token" = E'6f8rMbmgYEHGxG6yQUkZ', "last_request_at" = '2015-08-27 16:08:04.450756' WHERE "id" = 1[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (3.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccountPayable::IncomingInvoice Load Including Associations (5.4ms)[0m   [0mSELECT "account_payable_incoming_invoices"."id" AS t0_r0, "account_payable_incoming_invoices"."material_purchase_order_id" AS t0_r1, "account_payable_incoming_invoices"."currency_type_id" AS t0_r2, "account_payable_incoming_invoices"."account_payable_incoming_invoice_document_type_id" AS t0_r3, "account_payable_incoming_invoices"."tenderer_id" AS t0_r4, "account_payable_incoming_invoices"."tenderer_type" AS t0_r5, "account_payable_incoming_invoices"."create_by_id" AS t0_r6, "account_payable_incoming_invoices"."posting_date" AS t0_r7, "account_payable_incoming_invoices"."invoice_date" AS t0_r8, "account_payable_incoming_invoices"."reference" AS t0_r9, "account_payable_incoming_invoices"."control_number" AS t0_r10, "account_payable_incoming_invoices"."description" AS t0_r11, "account_payable_incoming_invoices"."sub_total_amount" AS t0_r12, "account_payable_incoming_invoices"."tax" AS t0_r13, "account_payable_incoming_invoices"."total_amount" AS t0_r14, "account_payable_incoming_invoices"."created_at" AS t0_r15, "account_payable_incoming_invoices"."updated_at" AS t0_r16, "account_payable_incoming_invoices"."balance" AS t0_r17, "account_payable_incoming_invoices"."no_deductible" AS t0_r18, "account_payable_incoming_invoices"."associated_purchase_ledgers" AS t0_r19, "account_payable_incoming_invoices"."municipal_tax" AS t0_r20, "account_payable_incoming_invoices"."legal_contractual_voluntary_obligation" AS t0_r21, "account_payable_incoming_invoices"."supplier_id" AS t0_r22, "account_payable_incoming_invoices"."tax_exempt" AS t0_r23, "account_payable_incoming_invoices"."tax_amount" AS t0_r24, "account_payable_incoming_invoices"."retained_amount" AS t0_r25, "account_payable_incoming_invoices"."tax_amount_general" AS t0_r26, "account_payable_incoming_invoices"."tax_amount_reduced" AS t0_r27, "account_payable_incoming_invoices"."tax_amount_additional" AS t0_r28, "account_payable_incoming_invoices"."amount_exempt" AS t0_r29, "account_payable_incoming_invoices"."purchase_ledger_period" AS t0_r30, "account_payable_incoming_invoices"."amount_general" AS t0_r31, "account_payable_incoming_invoices"."amount_reduced" AS t0_r32, "account_payable_incoming_invoices"."amount_additional" AS t0_r33, "account_payable_incoming_invoices"."amount_total_to_paid" AS t0_r34, "account_payable_status_incoming_invoices"."id" AS t1_r0, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_status_type_id" AS t1_r1, "account_payable_status_incoming_invoices"."account_payable_incoming_invoice_id" AS t1_r2, "account_payable_status_incoming_invoices"."create_by_id" AS t1_r3, "account_payable_status_incoming_invoices"."note" AS t1_r4, "account_payable_status_incoming_invoices"."actual" AS t1_r5, "account_payable_status_incoming_invoices"."created_at" AS t1_r6, "account_payable_status_incoming_invoices"."updated_at" AS t1_r7, "account_payable_incoming_invoice_status_types"."id" AS t2_r0, "account_payable_incoming_invoice_status_types"."name" AS t2_r1, "account_payable_incoming_invoice_status_types"."tag_name" AS t2_r2, "account_payable_incoming_invoice_status_types"."default" AS t2_r3 FROM "account_payable_incoming_invoices" LEFT OUTER JOIN "account_payable_status_incoming_invoices" ON account_payable_status_incoming_invoices.account_payable_incoming_invoice_id = account_payable_incoming_invoices.id LEFT OUTER JOIN "account_payable_incoming_invoice_status_types" ON "account_payable_incoming_invoice_status_types".id = "account_payable_status_incoming_invoices".account_payable_incoming_invoice_status_type_id WHERE (associated_purchase_ledgers = 't' AND purchase_ledger_period = E'2015-05' AND account_payable_status_incoming_invoices.actual = 't' AND account_payable_incoming_invoice_status_types.tag_name NOT IN (E'ANU')) ORDER BY invoice_date ASC[0m
  [4;36;1mAccountPayable::IncomingInvoiceTax Load (1.3ms)[0m   [0;1mSELECT * FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;35;1mTax Load (1.0ms)[0m   [0mSELECT * FROM "taxes" WHERE ("taxes"."id" = 3) [0m
  [4;36;1mSupplier Load (1.8ms)[0m   [0;1mSELECT * FROM "suppliers" WHERE ("suppliers"."owner" = 't') LIMIT 1[0m
  [4;35;1mContactCategory Load (1.2ms)[0m   [0mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 11 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;36;1mContact Load (1.4ms)[0m   [0;1mSELECT * FROM "contacts" WHERE ("contacts"."id" = 17) [0m
  [4;35;1mSupplier Load (1.2ms)[0m   [0mSELECT * FROM "suppliers" WHERE ("suppliers"."id" = 18) [0m
  [4;36;1mContactCategory Load (0.8ms)[0m   [0;1mSELECT * FROM "contact_categories" WHERE ("contact_categories".category_id = 18 AND "contact_categories".category_type = E'Supplier') LIMIT 1[0m
  [4;35;1mContact Load (0.8ms)[0m   [0mSELECT * FROM "contacts" WHERE ("contacts"."id" = 1) [0m
  [4;36;1mIdentificationDocumentType Load (1.0ms)[0m   [0;1mSELECT * FROM "identification_document_types" WHERE ("identification_document_types"."id" = 1) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT sum("account_payable_incoming_invoice_taxes".tax_amount) AS sum_tax_amount FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum("account_payable_incoming_invoice_taxes".taxable) AS sum_taxable FROM "account_payable_incoming_invoice_taxes" WHERE ("account_payable_incoming_invoice_taxes"."tax_id" = 3) AND ("account_payable_incoming_invoice_taxes".account_payable_incoming_invoice_id = 55) [0m
Completed in 357ms (View: 1, DB: 60) | 200 OK [http://127.0.0.1/backend/financial_management/purchase_ledgers/2015-05.csv]
Streaming file /tmp/EaSysERP/public/csv/empleados.csv
